<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>woffle</title>

        <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Fira+Mono" rel="stylesheet">
        <link rel="stylesheet" href="https://datasciencecampus.github.io/woffle/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://datasciencecampus.github.io/woffle/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://datasciencecampus.github.io/woffle/css/dracula.css">
        <link rel="stylesheet" href="https://datasciencecampus.github.io/woffle/css/main.css">
    </head>
    <body>

        <header class="site-header">
            <div class="site-branding">
                <h1 class="site-name">
                    <a href="https://datasciencecampus.github.io/woffle" >woffle</a>&nbsp;&nbsp;<i class="fa fa-comments"></i>
                </h1>
                <h2 class="site-description">An NLP project template for dummies, by dummies</h2>
            </div>

            <div class="button-line">
                <a href="https://github.com/karetsu/woffle" target="_blank" class="btn btn-default">View on GitHub</a>
                <a href="https://github.com/karetsu/woffle/zipball/master" class="btn btn-default hidden-xs">Download .zip</a>
                <a href="https://github.com/karetsu/woffle/tarball/master" class="btn btn-default hidden-xs">Download .tar.gz</a>
            </div>

                            <a href="https://github.com/karetsu/woffle">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="./img/fork.png" alt="Fork me on GitHub" data-canonical-src="./img/fork.png">
                </a>
            
            <div class="text-left visible-xs-block" style="margin-left: 15px;">
                <a href="#sidebar" data-toggle="collapse"><i class="fa fa-3x fa-bars" aria-hidden="true"></i></a>
            </div>
        </header>

        <main class="container-fluid">
            <div class="row">

                                    <nav id="sidebar" class="col-sm-3 col-lg-2 collapse in" role="navigation">
                                                    <p class="text-muted">
                                Home
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="https://datasciencecampus.github.io/woffle/index.html">
                                            <i class='fa fa-angle-right'></i> Welcome
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://datasciencecampus.github.io/woffle/features.html">
                                            <i class='fa fa-angle-right'></i> Features
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://datasciencecampus.github.io/woffle/getstarted.html">
                                            <i class='fa fa-angle-right'></i> Getting Started
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="faq.html">
                                            <i class='fa fa-angle-right'></i> FAQ
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Themes
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="themes.html">
                                            <i class='fa fa-angle-right'></i> Overview
                                        </a>
                                    </li>
                                                                    <li class="active">
                                        <a href="hcluster.html">
                                            <i class='fa fa-angle-right'></i> Hierarchical Clustering
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="sentiment.html">
                                            <i class='fa fa-angle-right'></i> Sentiment Analysis
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Advanced Use
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="advanced.html">
                                            <i class='fa fa-angle-right'></i> Overview
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-9 col-lg-10 content">
                    <h1 id="hierarchical-clustering">Hierarchical Clustering</h1>
<p>Performing unsupervised hierarchical clustering of text. This theme mimics the
functionality found in <a href="https://github.com/datasciencecampus/optimus">optimus</a>
but in a more functional manner.</p>
<h2 id="default-options">Default options</h2>
<p>You are expected to load your text files into a list or generator expression
with each piece of text as a separate entry.</p>
<h3 id="parsing">Parsing</h3>
<p>Configuration of the parsing of text can be placed in <code>./etc/{regex,encoding}</code>.
The default <code>parse()</code> function is an endomorphism of strings and performs the
following operations sequentially</p>
<ul>
<li><code>str.strip</code> - remove whitespace from the start and end of the string</li>
<li><code>regex</code> - perform replacement of regex patterns defined in <code>./etc/regex</code> of
the form <code>pattern = replacement</code></li>
<li><code>encode</code> - as found in regex but the replacements are usually non-empty, this
can enable removal of long common words which can influence embeddings negatively</li>
</ul>
<h3 id="embedding">Embedding</h3>
<p>This theme uses <a href="https://github.com/facebookresearch/fasttext">fastText</a> to
obtain its real valued vector representations of the text it is given. This is
chosen as it is very good at dealing with words which are out of dictionary,
which more traditional embeddings such as word2vec and gloVe cannot handle. </p>
<h3 id="clustering">Clustering</h3>
<p>Ward linkage is chosen as the default mechanism for clustering the numeric
vectors generated in the embedding stage. This creates a dendrogram containing
every single point to be clustered and can be quite computationally costly.
However, it is very good for generating clusters for use in creating a
hierarchy. At a given depth the <code>cluster()</code> function will return which points
have been clustered at that point, including all of those which are still
singletons. </p>
<h3 id="label-selection">Label Selection</h3>
<p>Following the clustering stage a label is selected using the optimus approach.</p>
<ol>
<li>Firstly a test for all of the cluster's contents being similarly spelt
happens, if the edit distance is small then one of the spellings is chosen to
be representative of all of the cluster and is chosen as the label. </li>
<li>If the edit distance is too large then the text in the cluster is tested to
see if there are common words across them. If this is the case then this
common word is chosen to be representative of the cluster and assigned as the
label for all of the items it contains. </li>
<li>Should there be no common word for all of the items in the cluster then we
look for a common substring. If this is the case and that string is
sufficiently long then this string is assigned.</li>
<li>Following all of the above, if none of them are suitable for labelling the
cluster then we make use of the WordNet database provided by Princeton
University and find the lowest common ancestor for all of the terms in the
cluster. If this fails because the items are too generically related (e.g.
the lookup comes back as <code>object</code> or something similarly abstract) then the
cluster remains unlabelled.</li>
</ol>
<p>For more on this theme please see <code>./examples/optimus.py</code> which is a working
implementation of the full optimus program in woffle.</p>
                </section>

            </div>
        </main>

        <footer class="site-footer">
            <div class="top-bar-line"></div>
            <div class="bottom-panel">
                <div class="text-center">
            <span>
                                    Made by DSC  &gt;&gt;=  Built by Couscous
                                                </span>
                </div><!-- text-center -->
            </div><!-- bottom-panel -->
        </footer>


        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="https://datasciencecampus.github.io/woffle/js/highlight.pack.js"></script>

        <script>
            hljs.initHighlighting();

            function checkWidth($highlight) {
                if ($(window).width() < 768) {
                    $highlight.addClass('collapse');
                } else {
                    $highlight.removeClass('collapse');
                }
            }

            $(document).ready(function () {
                var $highlights = $('.hljs');
                $highlights.each(function (index) {
                    var $this = $(this).parent();
                    var elementId = 'hljs' + index;
                    $this.attr('id', elementId);
                    $this.before('<a class="visible-xs-inline visible-sm-inline" href="#' + elementId + '" data-toggle="collapse"><i class="fa fa-expand"></i>&nbsp;Toggle source code ...</a>');

                    checkWidth($this);
                    $(window).resize(function () {
                        checkWidth($this);
                    });
                });
            });

            
        </script>

    </body>
</html>
